{"version":3,"sources":["components/Person.js","components/Persons.js","components/PersonForm.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","persons","remove","name","number","onClick","id","Persons","newFilter","filter","person","toLowerCase","includes","map","PersonForm","addNumbers","newName","newNum","handleNameChange","handleNumberChange","onSubmit","value","onChange","type","Filter","handleFilterChange","baseUrl","exportObj","getAll","axios","get","then","response","data","create","perObj","post","update","newObj","put","delete","Notification","message","className","App","useState","setPersons","setNewName","setNewNum","setNewFilter","setMessage","setType","useEffect","console","log","personservice","initialPersons","catch","error","sameName","find","event","target","preventDefault","window","confirm","changedperson","returnedPersons","setTimeout","status","p","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cb79cf2c.chunk.js","sourcesContent":["/* eslint-disable react/prop-types */\nimport React from 'react'\n\nfunction Person({ persons, remove }) {\n    return (\n        <li>\n            {persons.name}\n            {' '}\n            {persons.number}\n            {' '}\n            <button onClick={() => remove(persons.id, persons.name)}>delete</button>\n        </li>\n    )\n}\n\nexport default Person\n","/* eslint-disable react/prop-types */\nimport React from 'react'\nimport Person from './Person'\n\nfunction Persons({ persons, newFilter, remove }) {\n    return (\n        <ul>\n            {persons.filter((person) => person.name.toLowerCase().includes(newFilter.toLowerCase())).map((person) => <Person key={person.name} persons={person} remove={remove} />)}\n        </ul>\n    )\n}\n\nexport default Persons\n","import React from 'react'\n\nfunction PersonForm({\n    // eslint-disable-next-line react/prop-types\n    addNumbers, newName, newNum, handleNameChange, handleNumberChange,\n}) {\n    return (\n        <form onSubmit={addNumbers}>\n            <div>\n        name:\n                {' '}\n                <input\n                    value={newName}\n                    onChange={handleNameChange}\n                />\n            </div>\n            <div>\n        number:\n                {' '}\n                <input\n                    value={newNum}\n                    onChange={handleNumberChange}\n                />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm\n","import React from 'react'\n\n// eslint-disable-next-line react/prop-types\nfunction Filter({ newFilter, handleFilterChange }) {\n    return (\n        <form>\n            <div>\n        filter showm with:\n                {' '}\n                <input\n                    value={newFilter}\n                    onChange={handleFilterChange}\n                />\n            </div>\n        </form>\n    )\n}\n\nexport default Filter\n","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then((response) => response.data)\n}\n\nconst create = (perObj) => {\n    const request = axios.post(baseUrl, perObj)\n    return request.then((response) => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then((response) => response.data)\n}\n\nconst update = (id, newObj) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObj)\n    return request.then((response) => response.data)\n}\n\nconst exportObj = {\n    getAll,\n    create,\n    update,\n    remove,\n}\nexport default exportObj\n","import React from 'react'\n\n// eslint-disable-next-line react/prop-types\nfunction Notification({ message, type }) {\n    if (message === null) {\n        return null\n    }\n    return (\n        <div className={type}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport personservice from './services/persons'\nimport Notification from './components/Notification'\n\nfunction App() {\n    const [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState('')\n    const [newNum, setNewNum] = useState('')\n    const [newFilter, setNewFilter] = useState('')\n    const [message, setMessage] = useState(null)\n    const [type, setType] = useState('')\n\n    useEffect(() => {\n        console.log('effect')\n        personservice\n            .getAll()\n            .then((initialPersons) => {\n                console.log('promise fulfilled')\n                setPersons(initialPersons)\n            })\n            .catch((error) => {\n                console.log(error.response.data)\n            })\n    }, [])\n\n    const sameName = persons.find((person) => person.name === newName)\n\n    const addNumbers = (event) => {\n        event.preventDefault()\n        if (sameName) {\n            if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n                const changedperson = { ...sameName, number: newNum }\n                console.log('changed... ', changedperson)\n                personservice\n                    .update(changedperson.id, changedperson)\n                    .then((returnedPersons) => {\n                        setPersons(persons.map((person) => (person.id !== changedperson.id ? person : returnedPersons)))\n                        setMessage(`Changed ${newName}'s number`)\n                        setType('success')\n                        setTimeout(() => { setMessage(null) }, 5000)\n                    })\n                    .catch((error) => {\n                        setType('error')\n                        if (error.response.status === 404) {\n                            setMessage(`${newName} has already been deleted from server`)\n                            setPersons(persons.filter((p) => p.id !== sameName.id))\n                        } else {\n                            setMessage(error.response.data.error)\n                        }\n                        setTimeout(() => { setMessage(null) }, 5000)\n                    })\n            }\n        } else {\n            const perObj = {\n                name: newName,\n                number: newNum,\n            }\n            personservice\n                .create(perObj)\n                .then((returnedPersons) => {\n                    setPersons(persons.concat(returnedPersons))\n                    setMessage(`Added  ${newName}`)\n                    setType('success')\n                    setTimeout(() => { setMessage(null) }, 5000)\n                })\n                .catch((error) => {\n                    setMessage(error.response.data.error)\n                    setType('error')\n                    setTimeout(() => { setMessage(null) }, 5000)\n                })\n        }\n        setNewName('')\n        setNewNum('')\n    }\n\n    const deleteNumbers = (id, name) => {\n        if (window.confirm(`Delete ${name}`)) {\n            personservice\n                .remove(id)\n                .then(() => {\n                    setPersons(persons.filter((person) => person.id !== id))\n                    setMessage(`Deleted ${name}`)\n                    setType('success')\n                    setTimeout(() => { setMessage(null) }, 5000)\n                })\n        }\n    }\n\n    const handleNameChange = (event) => {\n        setNewName(event.target.value)\n    }\n\n    const handleNumberChange = (event) => {\n        setNewNum(event.target.value)\n    }\n\n    const handleFilterChange = (event) => {\n        setNewFilter(event.target.value)\n    }\n    // console.log(persons.map(person => person.name.toLowerCase().includes(newFilter.toLowerCase())))\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification message={message} type={type} />\n            <Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\n            <h3>add a new</h3>\n            <PersonForm\n                addNumbers={addNumbers}\n                newName={newName}\n                newNum={newNum}\n                handleNameChange={handleNameChange}\n                handleNumberChange={handleNumberChange}\n            />\n            <h2>Numbers</h2>\n            <Persons persons={persons} newFilter={newFilter} remove={deleteNumbers} />\n        </div>\n    )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root'),\n)\n"],"sourceRoot":""}